/* ======================================================================
 *   Copyright (C) 2022-2023 Texas Instruments Incorporated
 *
 *   All rights reserved. Property of Texas Instruments Incorporated.
 *   Restricted rights to use, duplicate or disclose this code are
 *   granted through contract.
 *
 *   The program may not be used without the written permission
 *   of Texas Instruments Incorporated or against the terms and conditions
 *   stipulated in the agreement under which this program has been
 *   supplied.
 * ==================================================================== */

/**
 *  \file     EthTrcv_Cfg.h
 *
 *  \brief    This file contains generated pre compile configuration file for
 *            Ethernet Transceiver MCAL driver
 *
 */

/*******************************************************************************
    Project: [!"$project"!]
    This file is generated by EB Tresos
    Do not modify this file, otherwise the software may behave in unexpected way.

*******************************************************************************/
 
/**
 *  \defgroup MCAL_ETHTRCV_CFG EthTrcv Configuration
 *
 *  This files defines EthTrcv MCAL configuration structures
 *  @{
 */

#ifndef ETHTRCV_CFG_H_
#define ETHTRCV_CFG_H_

/* ========================================================================== */
/*                             Include Files                                  */
/* ========================================================================== */
[!IF "(node:exists(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*[1]/EthTrcvDemEventParameterRefs/*[1]))"!][!//
#include "Dem.h"
[!ENDIF!][!//
[!IF "not(node:empty(as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvOsCounterRef))"!][!//
#include "Os.h"
[!ENDIF!][!//


#ifdef __cplusplus
extern "C" {
#endif


/**
*  \brief ETHTRCV Build Variant.
*   Build variants.(i.e Pre-compile,Post-build or Link time)
*/
#define ETHTRCV_PRE_COMPILE_VARIANT       [!IF "as:modconf('EthTrcv')[1]/IMPLEMENTATION_CONFIG_VARIANT = 'VariantPreCompile'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

#define ETHTRCV_POST_BUILD_VARIANT        [!IF "as:modconf('EthTrcv')[1]/IMPLEMENTATION_CONFIG_VARIANT = 'VariantPostBuild'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

#define ETHTRCV_LINK_TIME_VARIANT         [!IF "as:modconf('EthTrcv')[1]/IMPLEMENTATION_CONFIG_VARIANT = 'VariantLinkTime'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/* ========================================================================== */
/*                           Macros & Typedefs                                */
/* ========================================================================== */
/** \brief ETHTRCV Config ID */
#define ETHTRCV_CFG_ID          (0x1U)

/**
 *  \name EthTrcv Driver Configuration SW Version Info
 *
 *  Defines for EthTrcv Driver configuration version
 *  @{
 */
#define ETHTRCV_CFG_MAJOR_VERSION           ([!"substring-before($moduleSoftwareVer,'.')"!]U)
#define ETHTRCV_CFG_MINOR_VERSION           ([!"substring-before(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
#define ETHTRCV_CFG_PATCH_VERSION           ([!"substring-after(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/* @} */

[!MACRO "True2STDON", "ref" = ""!][!//
[!WS "8"!][!IF "$ref = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!][!//
[!ENDMACRO!]


[!IF "as:modconf('EthTrcv')[1]/IMPLEMENTATION_CONFIG_VARIANT = 'VariantPreCompile'"!]
/*macro derived for precompile variant*/
[!LOOP "as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*"!]
#define ETHTRCV_INIT_CONFIG_PC 			[!"../../@name"!]_[!"@name"!];
[!ENDLOOP!]
[!ENDIF!]


/**
 *  \name EthTrcv service enable/disable defines
 *
 *  Pre-compile switches for enabling/disabling ETHTRCV MCAL APIs
 *  @{
 */
/** \brief Enable/Disable EthTrcv_GetVersionInfo()*/
#define ETHTRCV_VERSION_INFO_API        	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvVersionInfoApi"!]

/** \brief Enable/Disable DEV error detection */
#define ETHTRCV_DEV_ERROR_DETECT        	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvDevErrorDetect"!]
/* Requirements : SWS_EthTrcv_00046 */
/** \brief Enable/disable Ethernet transceiver set transceiver mode API */
#define ETHTRCV_SETTRANSCEIVERMODE_API       	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvSetTransceiverModeApi"!]
/* Requirements : SWS_EthTrcv_00053 */
/** \brief Enable/disable Ethernet transceiver get transceiver mode API */
#define ETHTRCV_GETTRANSCEIVERMODE_API       	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetTransceiverModeApi"!]
/* Requirements : SWS_EthTrcv_00132 */
/** \brief Enable/disable Ethernet transceiver get transceiver wake up mode API */
#define ETHTRCV_GETTRANSCEIVERWAKEUPMODE_API       	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetTransceiverWakeupModeApi"!]
/* Requirements : SWS_EthTrcv_00059 */
/** \brief Enable/disable Ethernet transceiver start autonegotiation API */
#define ETHTRCV_STARTAUTONEGOTIATION_API     	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvStartAutoNegotiationApi"!]
/* Requirements : SWS_EthTrcv_00066 */
/** \brief Enable/disable Ethernet transceiver get link state API */
#define ETHTRCV_GETLINKSTATE_API             	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetLinkStateApi"!]
/* Requirements : SWS_EthTrcv_00073 */
/**  \brief Enable/disable Ethernet transceiver get baudrate API */
#define ETHTRCV_GETBAUDRATE_API              	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetBaudRateApi"!]
/* Requirements : SWS_EthTrcv_00080 */
/**  \brief Enable/disable Ethernet transceiver get duplex mode API */
#define ETHTRCV_GETDUPLEXMODE_API            	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetDuplexModeApi"!]
 /** \brief Enables / Disables EthTrcv_GetCableDiagnosticsResult API. */
#define ETHTRCV_GETCABLEDIAGNOSTICSRESULT_API    [!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetCableDiagnosticsResultApi"!]
/** \brief Enables / Disables EthTrcv_GetPhyIdentifier API */
#define ETHTRCV_GETPHYIDENTIFIER_API             [!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetPhyIdentifierApi"!]
/**  \brief Enables / Disables EthTrcv_SetPhyTxMode API. */
#define ETHTRCV_SETPHYTXMODE_API             	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvSetPhyTxModeApi"!]
/**  \brief Enables / Disables version info API macro implementation. */
#define ETHTRCV_VERSIONINFO_API_MACRO        	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvVersionInfoApiMacro"!]
/**  \brief Enables / Disables ETHTRCV_GETPHYSIGNALQUALITY_API. */
#define ETHTRCV_GETPHYSIGNALQUALITY_API       	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvGetPhySignalQualityApi"!]
/**  \brief Enables / Disables EthTrcv_SetPhyTxMode API. */
#define ETHTRCV_SETPHYTESTMODE_API             	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvSetPhyTestModeApi"!]
/**  \brief Enables / Disables EthTrcv1000Mbps_speed API. */
#define ETHTRCV_1000MBPS_MACRO             	[!CALL "True2STDON","ref" = "as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcv1000Mbps_speed"!]
/* @} */

/** \brief EthTrcv max number of controllers. */
#define ETHTRCV_MAX_CONTROLLER          	([!"as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvMaxControllersSupported"!]U)

/** \brief EthTrcv max number of configurations. */
#define ETHTRCV_MAX_CONTROLLER_CFGS     	(2U)

/**
 *  \name EthTrcv Controller names
 *
 *  Symbolic names for the EthTrcvControllerId.
 *  @{
 */
/* Requirements : SWS_EthTrcv_00003 */
#define ETHTRCV_CONTROLLER_ID_0         	(0U)
/* @} */

/**
 *  \name EthTrcv Transceiver names
 *
 *  Symbolic names for the EthTrcv.
 *  @{
 */
[!LOOP "as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*"!]
#define EthTrcvConf_[!"../@name"!]_EthTrcvIdx_[!"EthTrcvIdx"!]    ([!"EthTrcvIdx"!]U)
[!ENDLOOP!]
/* @} */

/** \brief EthTrcv auto negotiation wait count
 *       Transceiver delay after auto negotiation started to auto negotiation
 *       completed. Transceiver (PHY) sets auto-negotiation status bit in
 *       status register once it is complete. Depending on Transceiver type,
 *       MDIO frequency it will take different time. Change count value if
 *       transceiver detection fails in auto-negotiation.
 */
/* For auto-negotiation configuring wait count to 100ms
 * (32K/10 X 31.25ms each tick = ~1s)
 */
#define ETHTRCV_AUTONEG_STATUS_WAITCOUNT_TICKS            ([!"num:inttohex(as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvAutoNegotiationWaitCountTicks)"!]U)

/** \brief  Wait for link status to become up after configuration */
#define ETHTRCV_LINKSTATUS_WAITCOUNT_TICKS                 ([!"num:inttohex(as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvLinkStatusWaitCountTicks)"!]U)


 /** \brief Counter ID for counter used to count wait ticks */
 #define ETHTRCV_OS_COUNTER_ID               	((CounterType)[!IF "not(node:empty(as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvOsCounterRef))"!][!"node:name(node:ref(as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvOsCounterRef))"!][!ELSE!][!"as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvDefaultOSCounterId/*"!]U[!ENDIF!])

 /**
  *  \brief ETH timeout.
  *   Each tick is 31.25us (for 32K Counter). Wait for 5s which comes to
  *   below value
  */
 #define ETHTRCV_TIMEOUT_DURATION            	([!" as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvTimeoutDuration"!]U)

[!IF "node:exists(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*[1]/EthTrcvDemEventParameterRefs/*[1])"!][!//
/**
 *  \name ETHTRCV DEM Error codes to report
 *
 *  Pre-compile switches for enabling/disabling DEM events
 *  @{
 */
[!NOCODE!][!//
[!IF "not(node:exists(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*[1]/EthTrcvDemEventParameterRefs/*[1]/ETHTRCV_E_HARDWARE_ERROR)) and not(node:exists(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*[1]/EthTrcvDemEventParameterRefs/*[1]/ETHTRCV_E_ACCESS))"!] 
[!WARNING "DEM enabled but no DEM error configured"!]
[!ENDIF!]
[!ENDNOCODE!][!//

[!IF "node:exists(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*[1]/EthTrcvDemEventParameterRefs/*[1]/ETHTRCV_E_HARDWARE_ERROR)"!][!//
#ifndef ETHTRCV_E_HARDWARE_ERROR
/** \brief Hardware failed */
#define ETHTRCV_E_HARDWARE_ERROR             	([!IF "not(node:empty(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/EthTrcvConfig_0/EthTrcvDemEventParameterRefs/EthTrcvDemEventParameterRefs_0/ETHTRCV_E_HARDWARE_ERROR/*))"!]DemConf_DemEventParameter_[!"node:name(node:ref(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/EthTrcvConfig_0/EthTrcvDemEventParameterRefs/EthTrcvDemEventParameterRefs_0/ETHTRCV_E_HARDWARE_ERROR/*))"!][!ELSE!][!ERROR "No Hardawre refernece is provided to the DEM error configured"!][!ENDIF!])
#endif
[!ENDIF!][!//

[!IF "node:exists(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*[1]/EthTrcvDemEventParameterRefs/*[1]/ETHTRCV_E_ACCESS)"!][!//
#ifndef ETHTRCV_E_ACCESS
/** \brief Hardware failed */
#define ETHTRCV_E_ACCESS                     	([!IF "not(node:empty(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/EthTrcvConfig_0/EthTrcvDemEventParameterRefs/EthTrcvDemEventParameterRefs_0/ETHTRCV_E_ACCESS/*))"!]DemConf_DemEventParameter_[!"node:name(node:ref(as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/EthTrcvConfig_0/EthTrcvDemEventParameterRefs/EthTrcvDemEventParameterRefs_0/ETHTRCV_E_ACCESS/*))"!][!ELSE!][!ERROR "No Hardawre refernece is provided to the DEM error configured"!][!ENDIF!])
#endif
/* @} */
[!ENDIF!][!//
[!ENDIF!][!//

/**

 *  \brief Specifies the InstanceId of this module instance. If only one instance is present it shall have the Id 0
 */
#define ETHTRCV_INDEX             				[!"as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvIndex"!]U
[!IF "(node:exists(as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvMainFunctionPeriod))"!]
/**
 *  \brief Specifies the period of main function EthTrcv_MainFunction in seconds.
 */
#define ETHTRCV_MAINFUNCTION_PERIOD          	[!"as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvMainFunctionPeriod/*"!]U
[!ENDIF!]
/**
 *  \brief EthTrcvMaxTrcvsSupported.
 */
#define ETHTRCV_MAXTRCVSUPPORTED             	([!"as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvMaxTrcvsSupported"!]U)


/* Requirements : SWS_EthTrcv_00110 */
/**
 *  \brief Enable/disable Ethernet transceiver EthTrcvWakeUpSupport APIs.
 */
#define ETHTRCV_WAKEUPSUPPORT_API               ([!"as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvWakeUpSupport"!])

/**
*	\brief Change of PHY Loop Back MOdes
*/
#define ETHTRCV_PHYLOOPBACK_INTERNAL_TYPE 			[!" as:modconf('EthTrcv')[1]/EthTrcvGeneral/EthTrcvInternalLoopbackMode"!]



/* ========================================================================== */
/* 							Structures and Enums */
/* ========================================================================== */
[!LOOP "as:modconf('EthTrcv')[1]/EthTrcvConfigSet/EthTrcvConfig/*"!]
/** \brief EthTrcv Configuration struct declaration */
extern struct EthTrcv_ConfigType_s [!"../../@name"!]_[!"@name"!];
[!ENDLOOP!]

/* ========================================================================== */
/*                          Function Declarations                             */
/* ========================================================================== */

/* None */

#ifdef __cplusplus
}
#endif

#endif  /* ETHTRCV_CFG_H_ */

/* @} */

