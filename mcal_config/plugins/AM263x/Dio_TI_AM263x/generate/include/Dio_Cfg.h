/* ======================================================================
 *   Copyright (c) 2022-2023 Texas Instruments Incorporated
 *
 *   All rights reserved. Property of Texas Instruments Incorporated.
 *   Restricted rights to use, duplicate or disclose this code are
 *   granted through contract.
 *
 *   The program may not be used without the written permission
 *   of Texas Instruments Incorporated or against the terms and conditions
 *   stipulated in the agreement under which this program has been
 *   supplied.
 * ==================================================================== */
/***********************************************************************
    Project: [!"$project"!]
	

    This file is generated by EB Tresos
    Do not modify this file, otherwise the software may behave in 
	unexpected way.

 ***********************************************************************/
/**
 *  \file     Dio_Cfg.h
 *
 *  \brief    This file contains generated pre compile configuration file
 *            for DIO MCAL driver
 *
 */


#ifndef DIO_CFG_H_
#define DIO_CFG_H_

/**
 * \addtogroup DIO Dio API GUIDE Header file
 * @{
 */

/* ========================================================================== */
/*                             Include Files                                  */
/* ========================================================================== */

[!IF "not(node:empty(as:modconf('Dio')[1]/DioDemEventParameterRef/*))"!][!//
#include "Dem.h"
[!ENDIF!][!//

#ifdef __cplusplus
extern "C" {
#endif

#ifndef DOXYGEN_SHOULD_SKIP_THIS

/* ========================================================================== */
/*                           Macros & Typedefs                                */
/* ========================================================================== */
/** \brief DIO Config ID */
#define DIO_CFG_ID                      (0x1U)

/**
 *  \name Dio Driver Configuration SW Version Info
 *
 *  Defines for Dio Driver configuration version
 *  @{
 */
/** \brief Dio configuration Major Version */
#define DIO_CFG_MAJOR_VERSION           ([!"substring-before($moduleSoftwareVer,'.')"!]U)
/** \brief Dio configuration Minor Version */
#define DIO_CFG_MINOR_VERSION           ([!"substring-before(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/** \brief Dio configuration Patch Version */
#define DIO_CFG_PATCH_VERSION           ([!"substring-after(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/* @} */


[!IF "as:modconf('Dio')[1]/IMPLEMENTATION_CONFIG_VARIANT = 'VariantPreCompile'"!]
#define DIO_VARIANT_PRE_COMPILE          (STD_ON)[!//
[!ELSE!]
#define DIO_VARIANT_LINK_TIME            (STD_ON)[!//
[!ENDIF!]

/** \brief DIO Driver Instance ID */
#define DIO_INSTANCE_ID                 ((uint8) 0U)

/**
 *  \name GPIO register identifiers
 *
 *  Defines mapping to physical GPIO registers
 *  @{
 */
/** \brief GPIO REG0 identifier */
#define DIO_GPIO_REG_0                 (0U)
/** \brief GPIO REG1 identifier */
#define DIO_GPIO_REG_1                 (1U)
/** \brief GPIO REG2 identifier */
#define DIO_GPIO_REG_2                 (2U)
/** \brief GPIO REG3 identifier */
#define DIO_GPIO_REG_3                 (3U)
/** \brief GPIO REG4 identifier */
#define DIO_GPIO_REG_4                 (4U)

/* @} */

/*
 * Design: MCAL-19942
 */
/* Requirements : SWS_Dio_00103 */
/** \brief Width of GPIO register in this platform */
#define DIO_PORT_WIDTH                 (32U)

/**
 *  \name DIO service enable/diable defines
 *
 *  Pre-compile switches for enabling/disabling DIO MCAL APIs
 *  @{
 */
/** \brief Enable/Disable DEV error detection */
#define DIO_DEV_ERROR_DETECT            [!IF "as:modconf('Dio')[1]/DioGeneral/DioDevErrorDetect"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Enable/Disable Dio_GetVersionInfo() */
#define DIO_VERSION_INFO_API            [!IF "as:modconf('Dio')[1]/DioGeneral/DioVersionInfoApi"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Enable/Disable Dio_FlipChannel() */
#define DIO_FLIP_CHANNEL_API            [!IF "as:modconf('Dio')[1]/DioGeneral/DioFlipChannelApi"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Enable/Disable Dio_RegisterReadback() */
#define DIO_REGISTER_READBACK_API            [!IF "as:modconf('Dio')[1]/DioGeneral/DioRegisterReadbackApi"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief GPIO Ownership for R5F Cores */
[!IF "as:modconf('Dio')[1]/DioGeneral/DioHostCoreId = '0'"!]
#define DIO_GPIO_BASE   0x52000000U
[!ELSEIF "as:modconf('Dio')[1]/DioGeneral/DioHostCoreId = '1'"!][!//
#define DIO_GPIO_BASE   0x52001000U
[!ELSEIF "as:modconf('Dio')[1]/DioGeneral/DioHostCoreId = '2'"!][!//
#define DIO_GPIO_BASE   0x52002000U
[!ELSEIF "as:modconf('Dio')[1]/DioGeneral/DioHostCoreId = '3'"!][!//
#define DIO_GPIO_BASE   0x52003000U
[!ENDIF!]

/* @} */

/* Requirements : SWS_Dio_00026, SWS_Dio_00113, SWS_Dio_00020 */
/**
 *  \name Symbolic name of DIO PORTs
 *
 *  This is symbolic name of DIO ports generated from configurator
 *  These defines map to physical GPIO register numbers.
 *  @{
 */
[!VAR "var1" = "0"!][!//
[!LOOP "as:modconf('Dio')[1]/DioConfig/DioPort/*"!][!//
/** \brief Symbolic name for GPIO REG #[!"num:i($var1)"!] */
#define DioConf_DioPort_[!"@name"!] ((Dio_PortType)  DIO_GPIO_REG_[!"DioPortId"!])[!CR!][!VAR "var1" = "$var1+1"!]
[!ENDLOOP!][!//
/* @} */

 /** \brief Max number of DIO ports */
#define DIO_ENABLED_PORT_MASK             (0U   [!//
[!LOOP "as:modconf('Dio')[1]/DioConfig/DioPort/*"!][!//
 | (1U << [!"DioPortId"!])[!//
[!ENDLOOP!][!//
)[!//



/** \brief Max number of DIO ports */
#define DIO_MAX_NO_OF_PORTS             [!"num:i($var1)"!]U

/* Requirements : SWS_Dio_00026, SWS_Dio_00113, SWS_Dio_00017 */
/**
 *  \name Symbolic name of DIO Channels
 *
 *  This is symbolic name of DIO channels generated from configurator
 *  These defines map to GPIO register channels
 *  The channel numbers are mapped as
 *  GPIO_REG_0: Channel 0  - Channel 7
 *  GPIO_REG_1: Channel 8 - Channel 15
 *  GPIO_REG_2: Channel 16 - Channel 23
 *  GPIO_REG_3: Channel 24 - Channel 31
 *  GPIO_REG_4: Channel 32  - Channel 39
 *  GPIO_REG_5: Channel 40  - Channel 47
 *  GPIO_REG_6: Channel 48  - Channel 55
 *  GPIO_REG_7: Channel 56  - Channel 63
 *  @{
 */
[!VAR "var1" = "0"!][!//
[!LOOP "as:modconf('Dio')[1]/DioConfig/DioPort/*"!][!//
[!LOOP "DioChannel/*"!][!//
/** \brief Symbolic name for GPIO channel #[!"DioChannelId"!] [!"@name"!] */
#define DioConf_DioChannel_[!"@name"!] ((Dio_ChannelType) [!"DioChannelId"!]U)
[!VAR "var1" = "$var1+1"!][!//
[!ENDLOOP!][!//
[!ENDLOOP!][!//
/* @} */

/* Requirements : SWS_Dio_00026, SWS_Dio_00113, SWS_Dio_00022 */
/**
 *  \name Symbolic name of DIO Channel Groups
 *
 *  This is the symbolic name of DIO channel groups generated from configurator
 *  The definition of the channel groups is present in the generated
 *  Dio_PBCfg.c file. The other modules will invoke the Dio_channelGroup APIs
 *  using the symbolic name defines
 *
 *  @{
 */
[!LOOP "as:modconf('Dio')[1]/DioConfig/DioPort/*"!][!//
[!LOOP "DioChannelGroup/*"!][!//
#define DioConf_DioChannelGroup_[!"DioChannelGroupIdentification"!] ((Dio_ChannelGroupRefType)([!"../../../../@name"!]_[!"../../@name"!]_ChannelGroupRef[[!"num:i(@index)"!]]))
[!ENDLOOP!][!//
[!ENDLOOP!][!//
/* @} */

/** \brief Enable/Disable GIO support in DIO */
#define DIO_SUPPORT_GIO             (STD_ON)

/**
 *  \name DIO DEM Error codes to report
 *
 *  Pre-compile switches for enabling/disabling DEM events
 *  @{
 */
[!IF "node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef)"!][!//
[!IF "not(node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_CHANNEL_EVENT_ID)) and not(node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_PORT_EVENT_ID)) and not(node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_E_HARDWARE_ERROR))"!] 
[!WARNING "DEM enabled but no DEM error configured"!]
[!ENDIF!]
[!ENDIF!][!//

[!IF "node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/*)"!][!//
/* DIO IO check Dem IDs */
[!IF "(node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_CHANNEL_EVENT_ID))"!]
/** \brief Dio write channel event ID*/
#ifndef DIO_WRITE_CHANNEL_EVENT_ID
    #define DIO_WRITE_CHANNEL_EVENT_ID  ([!IF "node:refexists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_CHANNEL_EVENT_ID)"!]DemConf_DemEventParameter_[!"node:name(node:ref(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_CHANNEL_EVENT_ID))"!][!ELSE!][!ERROR "No Hardawre refernece is provided to the DEM error configured"!][!ENDIF!])
#endif
[!ENDIF!][!//
[!IF "(node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_PORT_EVENT_ID))"!][!//
/** \brief Dio write Port event ID*/
#ifndef DIO_WRITE_PORT_EVENT_ID
    #define DIO_WRITE_PORT_EVENT_ID     ([!IF "node:refexists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_PORT_EVENT_ID)"!]DemConf_DemEventParameter_[!"node:name(node:ref(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_WRITE_PORT_EVENT_ID))"!][!ELSE!][!ERROR "No Hardawre refernece is provided to the DEM error configured"!][!ENDIF!])
#endif
[!ENDIF!][!//

[!IF "(node:exists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_E_HARDWARE_ERROR))"!][!//
#ifndef DIO_E_HARDWARE_ERROR
/** \brief Hardware failed */
#define DIO_E_HARDWARE_ERROR          ([!IF "node:refexists(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_E_HARDWARE_ERROR)"!]DemConf_DemEventParameter_[!"node:name(node:ref(as:modconf('Dio')[1]/DioDemEventParameterRef/DIO_E_HARDWARE_ERROR))"!][!ELSE!][!ERROR "No Hardawre refernece is provided to the DEM error configured"!][!ENDIF!])
#endif
[!ENDIF!]
[!ENDIF!][!//

/* @} */

/* Static tests for configuration integrity can be conducted here */
/* This check throws an error if Dio is configured to support neither Can nor
 * Gio */
#if ((DIO_SUPPORT_GIO == STD_OFF))
  #error "Must enable GPIO. This configuration is not valid."
#endif

#endif /* DOXYGEN_SHOULD_SKIP_THIS */

/* ========================================================================== */
/*                         Structures and Enums                               */
/* ========================================================================== */
/** \brief Dio reference to the channel group*/
[!LOOP "as:modconf('Dio')[1]/DioConfig/DioPort/*"!]
extern P2CONST(void, AUTOMATIC, DIO_CONST) [!"../../@name"!]_[!"@name"!]_ChannelGroupRef[[!"num:i(count(DioChannelGroup/*))"!]];
[!ENDLOOP!]

/*LDRA_INSPECTED 33 D: MISRAC_2012_8.6
 * "Reason -  Dio configuration structure declaration" */
/** \brief global DIO channel configuration mask */
extern CONST (uint32,DIO_CONST) DioConfig_ValidChannelMask[DIO_MAX_NO_OF_PORTS];

/** \brief This type is used to access the GIO Registers */
typedef struct
{
	/** \brief PID Register */
    uint32 PID_REG;
	/** \brief PCR Register */
    uint32 PCR_REG;
	/** \brief BINTEN Register */
    uint32 BINTEN_REG;
} Dio_RegisterReadbackType;

/* ========================================================================== */
/*                          Function Declarations                             */
/* ========================================================================== */
/* None */

#ifdef __cplusplus
}
#endif

/**
* @}
 */

#endif  /* #ifndef DIO_CFG_H_ */


