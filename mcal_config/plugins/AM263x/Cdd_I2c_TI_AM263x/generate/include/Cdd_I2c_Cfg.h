/* ======================================================================
 *   Copyright (C) 2025 Texas Instruments Incorporated
 *
 *   All rights reserved. Property of Texas Instruments Incorporated.
 *   Restricted rights to use, duplicate or disclose this code are
 *   granted through contract.
 *
 *   The program may not be used without the written permission
 *   of Texas Instruments Incorporated or against the terms and conditions
 *   stipulated in the agreement under which this program has been
 *   supplied.
 * ==================================================================== */

/******************************************************************************
    Project         : [!"$project"!]
    SW Ver          : [!"$moduleSoftwareVer"!]
    Module Rele Ver : [!"$moduleReleaseVer"!]

    This file is generated by EB Tresos
    Do not modify this file,otherwise the software may behave in unexpected way.
******************************************************************************/

/**
 *  \file     Cdd_I2c_Cfg.h
 *
 *  \brief    This file contains pre compile configurations for the I2C MCAL
 */

/**
 *  \addtogroup CDD_I2C I2C Configuration Header file
 *
 *  This files defines I2C configuration structures
 *  @{
 */

#ifndef CDD_I2C_CFG_H_
#define CDD_I2C_CFG_H_

/* ========================================================================== */
/*                             Include Files                                  */
/* ========================================================================== */

#include "Std_Types.h"

#ifdef __cplusplus
extern "C" {
#endif

/* ========================================================================== */
/*                           Macros & Typedefs                                */
/* ========================================================================== */

/**
 *  \name I2C Driver Configuration SW Version Info
 *
 *  Defines for I2C Driver configuration version
 *  @{
 */
/** \brief I2C configuration Major Version */
#define CDD_I2C_CFG_MAJOR_VERSION       ([!"substring-before($moduleSoftwareVer,'.')"!]U)
/** \brief I2C configuration Minor Version */
#define CDD_I2C_CFG_MINOR_VERSION       ([!"substring-before(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/** \brief I2C configuration Patch Version */
#define CDD_I2C_CFG_PATCH_VERSION       ([!"substring-after(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/** @} */
[!IF "as:modconf('Cdd_I2c')[1]/IMPLEMENTATION_CONFIG_VARIANT = 'VariantPreCompile'"!]
/**
 *  \brief I2C Build Variant.
 *   Build variants.(i.e Pre Compile and Post Build)
 */
#define CDD_I2C_PRE_COMPILE_VARIANT     (STD_ON)[!//

/** \brief Precompile variant macro */
#define CDD_I2C_CONFIG_PC               Cdd_I2c_Config

[!ENDIF!]
/** \brief Enable/disable Interrupts */
#define CDD_I2C_POLLING_MODE            [!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cUseInterrupts = 'true'"!](STD_OFF)[!ELSE!](STD_ON)[!ENDIF!]

/** \brief Enable/Disable I2C dev detect error */
#define CDD_I2C_DEV_ERROR_DETECT        [!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cDevErrorDetect = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Version info API macro */
#define CDD_I2C_VERSION_INFO_API        [!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cVersionInfoApi = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Check to enable cancel API */
#define CDD_I2C_CANCEL_API              [!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cCancelCheck = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Check to enable get driver status API */
#define CDD_I2C_GET_STATUS_API          [!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cStatusCheck = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/** \brief Check to readback register API */
#define CDD_I2C_REGISTER_READBACK_API   [!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cEnableRegisterReadbackApi = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/**
 *  \name I2C HW Unit ID
 *
 *  Specifies the HW identification (ID) for I2C
 *  @{
 */
/** \brief HW unit 0 */
#define CDD_I2C_HW_UNIT_0               ((Cdd_I2c_HwUnitType)0U)
/** \brief HW unit 1 */
#define CDD_I2C_HW_UNIT_1               ((Cdd_I2c_HwUnitType)1U)
/** \brief HW unit 2 */
#define CDD_I2C_HW_UNIT_2               ((Cdd_I2c_HwUnitType)2U)
/** \brief HW unit 3 */
#define CDD_I2C_HW_UNIT_3               ((Cdd_I2c_HwUnitType)3U)
/** @} */
/** \brief Maximum supported HW units for the SOC */
#define CDD_I2C_HW_UNIT_MAX             (4U)

[!IF "as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cUseInterrupts = 'true' "!]
/** \brief ISR type */
#define CDD_I2C_ISR_TYPE                ([!"as:modconf('Cdd_I2c')[1]/I2cGeneral/CddIrqType"!])

[!ENDIF!]
[!VAR "varmax" = "0"!][!//
[!LOOP "as:modconf('Cdd_I2c')[1]/CddI2cSequenceConfig/*"!][!//
[!VAR "temp" = "num:i(CddI2cNumberOfChannelsInSequence)"!][!//
[!IF "$varmax < $temp"!][!//
[!VAR "varmax" = "$temp"!][!//
[!ENDIF!][!//
[!ENDLOOP!][!//
/*
 * All below macros are used for static memory allocation and can be changed to
 * match the usecase requirements.
 */
/** \brief Maximum channels allowed per sequence */
#define CDD_I2C_MAX_CH_PER_SEQ          ([!"num:i($varmax)"!]U)

[!VAR "varmax" = "0"!][!//
[!LOOP "as:modconf('Cdd_I2c')[1]/CddI2cChannelConfig/*"!][!//
[!VAR "varmax" = "$varmax+1"!][!//
[!ENDLOOP!][!//
/** \brief Maximum channels across all sequence/hwunit */
#define CDD_I2C_MAX_CH                  ([!"num:i($varmax)"!]U)

[!VAR "varmax" = "0"!][!//
[!LOOP "as:modconf('Cdd_I2c')[1]/CddI2cSequenceConfig/*"!][!//
[!VAR "varmax" = "$varmax+1"!][!//
[!ENDLOOP!][!//
/** \brief Maximum sequence across all hwunit */
#define CDD_I2C_MAX_SEQ                 ([!"num:i($varmax)"!]U)

/** \brief Maximum HW unit */
#define CDD_I2C_MAX_HW_UNIT             ([!"as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cHwUnitsUsed"!]U)

/*
 * All below macros are used for enabling a particular hardware.
 */
[!VAR "numChannelsUsed" = "num:i(as:modconf('Cdd_I2c')[1]/I2cGeneral/CddI2cHwUnitsUsed)"!][!//
[!VAR "countFromHwConfigContainer" = "num:i(count(as:modconf('Cdd_I2c')[1]/CddI2cHwConfig/*))"!][!//
[!IF "$numChannelsUsed != $countFromHwConfigContainer"!][!//
    [!ERROR!][!//
        "The Number of Channels configured in the variable CddI2cHwUnitsUsed are not equal to CddI2cHwConfig channel count."[!//
    [!ENDERROR!][!//
[!ELSE!][!//
[!LOOP "as:modconf('Cdd_I2c')[1]/CddI2cHwConfig/*"!][!//
#define [!"CddI2cHwUnitType"!]_ACTIVE
[!ENDLOOP!][!//
[!ENDIF!][!//

[!SELECT "as:modconf('Cdd_I2c')[1]/CddI2cSequenceConfig/*"!][!//
/** \brief Symbolic Name for I2c Sequence [!"node:pos(.)"!] */
#define CddI2cConf_CddI2cSequence_CddI2cSequence_[!"node:pos(.)"!]      ([!"node:pos(.)"!]U)
[!ENDSELECT!][!//

[!SELECT "as:modconf('Cdd_I2c')[1]/CddI2cChannelConfig/*"!][!//
/** \brief Symbolic Name for I2c Channel [!"node:pos(.)"!] */
#define CddI2cConf_CddI2cChannel_CddI2cChannel_[!"node:pos(.)"!]        ([!"node:pos(.)"!]U)
[!ENDSELECT!][!//

/* ========================================================================== */
/*                         Structures and Enums                               */
/* ========================================================================== */

/* None */

/* ========================================================================== */
/*                      Exported Object Declarations                          */
/* ========================================================================== */

extern CONST(struct Cdd_I2c_ConfigTag, CDD_I2C_CONFIG_DATA) Cdd_I2c_Config;
extern CONST(uint32, CDD_I2C_CONST) Cdd_I2c_HwUnitBaseAddr[CDD_I2C_HW_UNIT_MAX];

/* ========================================================================== */
/*                          Function Declarations                             */
/* ========================================================================== */

[!LOOP "as:modconf('Cdd_I2c')[1]/CddI2cSequenceConfig/*"!][!//
[!IF "not(node:empty(CddI2cSequenceCompleteNotify)) and not((text:match(CddI2cSequenceCompleteNotify,'NULL_PTR')))"!][!//
extern void [!"CddI2cSequenceCompleteNotify"!](void);
[!ENDIF!][!//
[!ENDLOOP!][!//

[!LOOP "as:modconf('Cdd_I2c')[1]/CddI2cSequenceConfig/*"!][!//
[!IF "not(node:empty(CddI2cSequenceErrorNotify)) and not((text:match(CddI2cSequenceErrorNotify,'NULL_PTR')))"!][!//
extern void [!"CddI2cSequenceErrorNotify"!](uint8 errorCode);
[!ENDIF!][!//
[!ENDLOOP!][!//

#ifdef __cplusplus
}
#endif

#endif  /* #ifndef I2C_CFG_H_ */

/** @} */
