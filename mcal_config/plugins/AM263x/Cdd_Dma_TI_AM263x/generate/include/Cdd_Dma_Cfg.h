/* ======================================================================
 *   Copyright (C) 2025 Texas Instruments Incorporated

 *
 *   All rights reserved. Property of Texas Instruments Incorporated.
 *   Restricted rights to use, duplicate or disclose this code are
 *   granted through contract.
 *
 *   The program may not be used without the written permission
 *   of Texas Instruments Incorporated or against the terms and conditions
 *   stipulated in the agreement under which this program has been
 *   supplied.
 * ==================================================================== */

/**
 *  \file     Cdd_Dma_Cfg.h
 *
 *  \brief    This file contains generated pre compile configuration file
 *            for Complex device driver
 */

  /*********************************************************************************************************************
    Project: [!"$project"!]

    This file is generated by EB Tresos
    Do not modify this file, otherwise the software may behave in unexpected way.

 *********************************************************************************************************************/

#ifndef CDD_DMA_CFG_H_
#define CDD_DMA_CFG_H_

/**
 * \addtogroup DMA Dma
 * @{
 */

/* ========================================================================== */
/*                             Include Files                                  */
/* ========================================================================== */
#include "Std_Types.h"
#include "Os.h"
#include "Dem.h"
#include "Cdd_Dma.h"
#include "mcal_hw_soc.h"
#include "Det.h"

#ifdef __cplusplus
extern "C" {
#endif

#ifndef DOXYGEN_SHOULD_SKIP_THIS

/**
 *  \name CDD DMA Driver Configuration SW Version Info
 *
 *  Defines for CDD DMA Driver configuration version
 *  @{
 */
/** \brief CDD DMA configuration Major Version */
#define CDD_DMA_MAJOR_VERSION                 ([!"substring-before($moduleSoftwareVer,'.')"!]U)
/** \brief CDD DMA configuration Minor Version */
#define CDD_DMA_MINOR_VERSION                 ([!"substring-before(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/** \brief CDD DMA configuration Patch Version */
#define CDD_DMA_PATCH_VERSION                 ([!"substring-after(substring-after($moduleSoftwareVer,'.'),'.')"!]U)
/* @} */

/* ========================================================================== */
/*                           Macros & Typedefs                                */
/* ========================================================================== */

/** \brief CDD DMA Config ID */
#define CDD_DMA_ID                                                        (0x1U)

/** \brief Enable/Disable CDD DMA dev detect error */
/* Requirements: ___ */
#define CDD_DMA_DEV_ERROR_DETECT                                          [!IF "as:modconf('Cdd_Dma')[1]/CddDmaGeneral/CddDmaDevErrorDetect = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

/**
 *  \name Pre-Compile Switches for API Services
 */
/** \brief Enable/Disable CDD DMA get version info API */
#define CDD_DMA_VERSION_INFO_API                                          [!IF "as:modconf('Cdd_Dma')[1]/CddDmaGeneral/CddDmaVersionInfoApi = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]
#define CDD_DMA_DEINIT_API                                                [!IF "as:modconf('Cdd_Dma')[1]/CddDmaGeneral/CddDmaDeinitApi = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]
#define CDD_DMA_REGISTER_READBACK_API                                     [!IF "as:modconf('Cdd_Dma')[1]/CddDmaGeneral/CddDmaRegisterReadBackApi = 'true'"!](STD_ON)[!ELSE!](STD_OFF)[!ENDIF!]

[!VAR "maxHandler"= "0"!][!//
[!VAR "maxChannel"= "0"!][!//
[!VAR "maxParam"= "0"!][!//
[!LOOP "as:modconf('Cdd_Dma')[1]/CddDmaDriverHandler/*"!][!//
[!VAR "maxHandler" = "$maxHandler+1"!][!//
[!VAR "ChannelCount" = "0"!][!//
[!LOOP "CddDmaChannelGroup/*"!][!//
[!VAR "ChannelCount" = "$ChannelCount+1"!][!//
[!VAR "ParamCount" = "0"!][!//
[!LOOP "CddDmaParamSets/*"!][!//
[!VAR "ParamCount" = "$ParamCount+1"!][!//
[!ENDLOOP!][!//
[!IF "$ParamCount > $maxParam"!][!VAR "maxParam" = "$ParamCount"!][!ENDIF!][!//
[!ENDLOOP!][!//
[!IF "$ChannelCount > $maxChannel"!][!VAR "maxChannel" = "$ChannelCount"!][!ENDIF!][!//
[!ENDLOOP!][!//
#define CDD_DMA_MAX_HANDLER                                               [!"num:i($maxHandler)"!]U
#define CDD_DMA_MAX_CHANNEL                                               [!"num:i($maxChannel)"!]U
#define CDD_DMA_MAX_PARAM                                                 [!"num:i($maxParam)"!]U

/** \brief CDD DMA resources amount */
#define CDD_DMA_NUM_DMACH_SOC                                             64U
#define CDD_DMA_NUM_PARAMSETS_SOC                                         256U

/** \brief CDD DMA Interrupt Service Routine Category */
#define CDD_DMA_ISR_TYPE                                                  [!"as:modconf('Cdd_Dma')[1]/CddDmaGeneral/CddDmaIrqType"!]

/** \brief CDD DMA Instances */
#define CDD_DMA_RCSS_A                                                    0U
#define CDD_DMA_MSS_A                                                     1U
#define CDD_DMA_MSS_B                                                     2U
#define CDD_DMA_DSS_A                                                     3U
#define CDD_DMA_DSS_B                                                     4U
#define CDD_DMA_DSS_C                                                     5U

/** \brief CSL Base Addresses for Sitara AM263x */
#define MCAL_MSS_CTRL_U_BASE                                              (0x50D00000U)
#define MCAL_MSS_TPCC_A_U_BASE                                            (0x52A00000U)

/** \brief CDD DMA Completion Interrupt Number */
#define MCAL_MSS_INTR_MSS_TPCC_A_INTAGG                                   72

/** \brief CDD DMA field MSS and DSS TPCC Adresseses for Interrupt Aggregate */
#define MCAL_MSS_CTRL_MSS_TPCC_A_INTAGG_MASK                              (0x00000830U)
#define MCAL_MSS_CTRL_MSS_TPCC_A_INTAGG_STATUS                            (0x00000834U)

/** \brief CDD DMA  Shift Mask. */
#define CDD_DMA_CSL_R5_MPIDR_AFF0_MASK                                   (0x000000FFU)
#define CDD_DMA_CSL_R5_MPIDR_AFF0_SHIFT                                  (0U)
#define CDD_DMA_CSL_R5_MPIDR_AFF1_MASK                                   (0x0000FF00U)
#define CDD_DMA_CSL_R5_MPIDR_AFF1_SHIFT                                  (8U)

/** \brief CDD DMA  Base address. */
#define CDD_DMA_CSL_MSS_CTRL_U_BASE                                      (0x50D00000U)

/** \brief CDD DMA Lock Step. */
#define CDD_DMA_CSL_MSS_CTRL_R5_STATUS_REG_R5_STATUS_REG_LOCK_STEP_MASK                (0x00000100U)
#define CDD_DMA_CSL_MSS_CTRL_R5_STATUS_REG_R5_STATUS_REG_LOCK_STEP_SHIFT               (0x00000008U)
#define CDD_DMA_CSL_MSS_CTRL_R5_STATUS_REG_R5_STATUS_REG_LOCK_STEP_RESETVAL            (0x00000000U)
#define CDD_DMA_CSL_MSS_CTRL_R5_STATUS_REG_R5_STATUS_REG_LOCK_STEP_MAX                 (0x00000001U)

/** \brief CDD DMA RAM Size and address. */
#define CDD_DMA_CSL_MSS_TCMA_RAM_BASE               (0x00000000U)
#define CDD_DMA_CSL_MSS_TCMA_RAM_SIZE               (0x00008000U)
#define CDD_DMA_CSL_MSS_TCMB_RAM_BASE               (0x00080000U)
#define CDD_DMA_CSL_MSS_TCMB_RAM_SIZE               (0x00008000U)

/* PRE-COMPLIE variant related macro(s) */
#define CDD_DMA_PRE_COMPILE_VARIANT                                       STD_ON

#endif /* DOXYGEN_SHOULD_SKIP_THIS */

/* ========================================================================== */
/*                         Structures and Enums                               */
/* ========================================================================== */

/* Requirements :  SitaraMCU_MCAL-__ */
/* Design: SitaraMCU_MCAL-__ */

/**
 *  \brief This type defines a range of specific status for Complex driver
 */
typedef enum
{
    /** \brief The Complex Driver is not initialized or not usable */
    CDD_DMA_UNINIT =       0U,
    /** \brief The Complex Driver is not currently transferring */
    CDD_DMA_IDLE =         1U,
    /** \brief The Complex Driver is currently open */
    CDD_DMA_ALLOW_ACCESS = 2U,
    /** \brief The Complex Driver is performing a write operation */
    CDD_DMA_BUSY =         3U,
    /** \brief The Complex Driver is currently closed */
    CDD_DMA_CLOSE =        4U,
} CddDma_StatusType;

[!LOOP "as:modconf('Cdd_Dma')[1]/CddDmaDriverHandler/*"!][!//
[!LOOP "CddDmaChannelTriggerConfiguration/*"!][!//
#define [!"CddDmaDmaChannelModule"!]_INPUT   [!"CddDmaChannelTriggerSource"!]
[!ENDLOOP!][!//
[!ENDLOOP!][!//

[!VAR "index" = "0"!][!//
[!LOOP "as:modconf('Cdd_Dma')[1]/CddDmaDriverHandler/*"!][!//
#define CddDmaConf_[!"@name"!]  [!"num:i($index)"!]
[!VAR "index" = "$index+1"!][!//
[!ENDLOOP!][!//

[!LOOP "as:modconf('Cdd_Dma')[1]/CddDmaDriverHandler"!][!//
/** \brief Cdd Configuration struct declaration */
extern CONST(Cdd_Dma_ConfigType, CDD_DMA_CFG) Cdd_Dma_Config;
[!ENDLOOP!][!//
extern volatile uint8 Cdd_Dma_handleAlreadyInUse[CDD_DMA_MAX_HANDLER];

/**
* @}
*/

/* ========================================================================== */
/*                          Function Declarations                             */
/* ========================================================================== */
extern void Cdd_Dma_TrigXbar(void);
extern void Cdd_Dma_Xbar(void);

#ifdef __cplusplus
}
#endif


#endif  /* #ifndef CDD_DMA_CFG_H_ */
