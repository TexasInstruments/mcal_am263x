/* ======================================================================
 *   Copyright (C) 2022-2023 Texas Instruments Incorporated
 *
 *   All rights reserved. Property of Texas Instruments Incorporated.
 *   Restricted rights to use, duplicate or disclose this code are
 *   granted through contract.
 *
 *   The program may not be used without the written permission
 *   of Texas Instruments Incorporated or against the terms and conditions
 *   stipulated in the agreement under which this program has been
 *   supplied.
 * ==================================================================== */

/**
 *  -------------------------------------------------------------------------------------------------------------------
 *  FILE DESCRIPTION
 *  -------------------------------------------------------------------------------------------------------------------
 *         File:  Pwm_Cfg.h
 *   
 *  Description:  This component provides services for initialization and control of the microcontroller internal
 *                PWM unit (pulse width modulation). The PWM module generates pulses with variable pulse width.
 *                It allows the selection of the duty cycle and the signal period time.
 *
 *********************************************************************************************************************/
/**********************************************************************************************************************
    Project: Pwm_am273x
	Date   : 2024-02-13 16:25:47

    This file is generated by EB Tresos
    Do not modify this file, otherwise the software may behave in unexpected way.

 *********************************************************************************************************************/
 
/**
 *  \defgroup MCAL_PWM_CFG PWM Configuration
 *
 *  This files defines PWM MCAL configuration structures
 *  @{
 */
#ifndef PWM_CFG_H
#define PWM_CFG_H


/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/

/*<PWM_CFG_INCLUDE_IRQ>*/
#include "SchM_Pwm.h"
#include "Os.h"
/* Include-File, which contains Errorhook-Function*/
#include "Det.h"

/*</PWM_CFG_INCLUDE_IRQ>*/



#ifdef __cplusplus
extern "C" {
#endif

/**********************************************************************************************************************
 *  GLOBAL CONSTANT MACROS
 *********************************************************************************************************************/
/* Configuration file version information */
#define PWM_CFG_MAJOR_VERSION    (10U)
#define PWM_CFG_MINOR_VERSION    (1U)
#define PWM_CFG_PATCH_VERSION    (0U)

/*
*Design: MCAL-13145,MCAL-13146,MCAL-13147,MCAL-13148,MCAL-13150,MCAL-13151,MCAL-13152
*/

/**
 *  \name PWM Build Variant.
 *   Build variants.(i.e Pre-compile,Post-build or Link time)
 * @{
 */
#define PWM_PRE_COMPILE_VARIANT         (STD_OFF)

#define PWM_VARIANT_POST_BUILD          (STD_ON )

/* ---- Pre-Compile Switches for API Services ----------------------------------*/

/**
 *  \name Pre-Compile Switches for API Services
 *  @{
 */
/** \brief Enable/Disable PWM DeInit API */
#define PWM_DEINIT_API                 (STD_ON)


/** \brief Enable/Disable PWM GetOutputState API */
#define PWM_GET_OUTPUT_STATE_API		(STD_OFF)


/** \brief Enable/Disable PWM SetDutyCycle API */
#define PWM_SET_DUTY_CYCLE_API          (STD_ON)


/** \brief Enable/Disable PWM SetOutputToIdle API */
#define PWM_SET_OUTPUT_TO_IDLE_API      (STD_ON)


/** \brief Enable/Disable PWM SetPeriodAndDuty API */
#define PWM_SET_PERIOD_AND_DUTY_API     (STD_ON)


/** \brief Enable/Disable PWM VersionInfo API */
#define PWM_VERSION_INFO_API            (STD_ON)


/** \brief Enable/Disable PWM_SAFETI API */
#define PWM_SAFETI_API            (STD_ON)


#define PWM_DUTYCYCLE_UPDATED_ENDPERIOD (STD_ON)

/** \brief Enable/Disable PWM Period update always at the end of the period */
#define PWM_PERIOD_UPDATED_ENDPERIOD    (STD_ON)
/* @} */


/** \brief ISR type */
#define PWM_ISR_TYPE                PWM_ISR_CAT1



/*<PWM_CFG_CHL_LIST>*/

#define PwmConf_PwmChannel_PwmChannel_0   (0U)

#define PwmConf_PwmChannel_PwmChannel_1   (1U)

#define PwmConf_PwmChannel_PwmChannel_2   (2U)

/*</PWM_CFG_CHL_LIST>*/






/** \brief Number of configured channels */
#define PWM_NUMBER_OF_CHANNELS   (3U)



/*----- Pre-Compile Switches for additional functionality ------------------*/
#define PWM_DEV_ERROR_DETECT              (STD_ON)
#define PWM_NOTIFICATION_SUPPORTED        (STD_ON)


/** \brief Possible output states of a pwm channel */
/*Requirements : SWS_Pwm_00108*/
typedef enum
{
    PWM_LOW = 0U,
    /** \brief Low state*/
    PWM_HIGH
    /** \brief HIGH state*/
} Pwm_OutputStateType;


/** \brief Possible number edge notification  */
#define PWM_NO_EDGES (PWM_BOTH_EDGES + 1U)


/*Requirements :SWS_Pwm_00107*/
/** \brief typedef of period value */
typedef uint32 Pwm_PeriodType;

/** \brief typedef of level type value */
typedef uint8 Pwm_LevelType;

/* SourceId :  */
/* DesignId :   */
/* Requirements :  SWS_Pwm_00058*/
/* Design :  AUTORADAR_MCAL-1650*/
/** \brief typedef of dutycycle value */
typedef uint16 Pwm_DutycycleType;

/* Frequency in Hz*/
/** \brief typedef of frequency value */
typedef uint32 Pwm_FrequencyType;


/** \brief Period type for pwm channels. Fixed periods prohibit changes to the period
* length with Pwm_SetPeriod(  ). PWM_FIXED_PERIOD_SHIFTED type is not
* supported due to hardware restrictions of the S12X' PWM unit.
* Requirements : SWS_Pwm_00110
*/

typedef enum
{
    PWM_FIXED_PERIOD = 0U,
    /** \brief period is immutable                      */
    PWM_FIXED_PERIOD_SHIFTED,
    /** \brief period is immutable with phase shift     */
    PWM_VARIABLE_PERIOD
    /** \brief period is variable                       */
} Pwm_ChannelClassType;


/* \brief PWM Channel type. */
typedef uint32 Pwm_ChannelType;

/** \brief function pointer for callback, used for emergency shutdown
* callback and for notification (which is only supported
* by software emulation)
*/
/* <INSPECTED> "Function pointer used as constant only." */
typedef P2FUNC(void, PWM_APPL_CODE, Pwm_NotifyFuncType)( void );


/** \brief  Channel configurations */
typedef struct
{
    /** \brief  Initial dutycycle */
    Pwm_DutycycleType Dutycycle_t;
    /** \brief  Initial frequency */
    Pwm_FrequencyType frequency_t;
    /** \brief  Initial period */
    Pwm_PeriodType InitialPeriod_t;
    /** \brief  Initial polarity */
    Pwm_OutputStateType Polarity_t;
    /** \brief  Initial idle state*/
    Pwm_OutputStateType IdleState_t;
    /** \brief  fixed or variable period */
    Pwm_ChannelClassType ChannelClass_t;
    /** \brief  Output pin value*/
    uint8 OutputPin_u8;

} Pwm_ChannelSettingsType;

/** \brief  Runtime driver configuration */
typedef struct
{
    /** \brief  Channnel settings */
    Pwm_ChannelSettingsType settings;
    /** \brief  Channel number */
    Pwm_ChannelType         channel;
    /** \brief Prescaler, part of PWM HW time-base clock */
    uint32                  prescale;
    /** \brief High-Speed Prescaler, part for PWM HW time-base clock */
    uint32                  hsPrescale;
    /** \brief  Notification handler*/
    #if (PWM_NOTIFICATION_SUPPORTED==STD_ON)
    Pwm_NotifyFuncType NotificationHandlers_at;
    #endif
} Pwm_ChannelConfigType;


/** \brief Global runtime configuration structure
* Requirements : SWS_Pwm_00061, SWS_Pwm_00111
*/
typedef struct Pwm_ConfigType_s
{
    /** \brief  system clock frequency*/
    uint32 pwmClkHz;
    /** \brief  channel configurations*/
    Pwm_ChannelConfigType ChannelConfig_at[PWM_NUMBER_OF_CHANNELS];
    /** \brief  number of channels*/
    uint8 NumberOfChannels_u8;
} Pwm_ConfigType;

#if(STD_ON == PWM_SAFETI_API)
/** \brief PWM Config registers */
typedef struct 
{
    /** \brief Time base control register*/
    uint16 CONFIG_TBCTL;
    /** \brief Time base phase register*/
    uint16 CONFIG_TBPHS;
   
} Pwm_RegisterReadbackType;

#endif

#if ( STD_ON == PWM_DEV_ERROR_DETECT )     /* Check parameters */

#if ( STD_ON == PWM_DEV_ERROR_DETECT )     /* Check parameters              */
/* ------------------------------------------------------------------------ */

#define Pwm_Errorhook(PWM_FunctionId,PWM_ErrorCode) Det_ReportError((PWM_MODULE_ID),(0U),(PWM_FunctionId),(PWM_ErrorCode))


/* ------------------------------------------------------------------------ */
/*                  Configurations for Production mode                      */
#else /* STD_ON == PWM_DEV_ERROR_DETECT */
/* ------------------------------------------------------------------------ */

#define Pwm_Errorhook(PWM_FunctionId, PWM_ErrorCode)

/* ------------------------------------------------------------------------ */
#endif     /* End of switch between development / production mode           */
/* ------------------------------------------------------------------------ */
#endif

#define Pwm_GlobalSuspend() /*<PWM_GLOBAL_SUSPEND/>*/ SchM_Enter_Pwm_PWM_EXCLUSIVE_AREA_0()
#define Pwm_GlobalRestore() /*<PWM_GLOBAL_RESTORE/>*/ SchM_Exit_Pwm_PWM_EXCLUSIVE_AREA_0()
/* <INSPECTED> "Reason -  Macro Pwm_GlobalReEnable is used as Dummy" */
#define Pwm_GlobalReEnable() /*<PWM_GLOBAL_REENABLE/>*/

/* ========================================================================== */
/*                         Structures and Enums                               */
/* ========================================================================== */


/** \brief PWM Configuration struct declaration */
extern CONST(struct Pwm_ConfigType_s, PWM_CONFIG_DATA) PwmChannelConfigSet_0;




#ifdef __cplusplus
}
#endif


#endif /* PWM_CFG_H */

/**********************************************************************************************************************
 *  END OF FILE: Pwm_Cfg.h
 *********************************************************************************************************************/

