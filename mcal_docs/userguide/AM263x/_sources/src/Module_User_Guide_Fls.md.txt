## FLS Module

### Acronyms and Definitions

|Abbreviation/Term|Explanation|
|------|------|
|AUTOSAR|Automotive Open System Architecture|
|BSW|Basic Software|
|MCAL|Micro Controller Abstraction Layer|
|API|Application Programming Interface|
|DET|Default Error Tracer|
|HW |Hardware|
|SW |Software|
|FLS|Flash Driver|
|DMA|Direct Memory Access|
|MCU|Micro Controller Unit|
|OS|Operating System|

### Introduction

This document describes MCAL **FLS Driver** functionality and configuration details as per AUTOSAR version **4.3.1** .

|Supported AUTOSAR Release|**4.3.1**|
|------|-------------|
|**Supported Configuration Variants**  | **Pre-Compile, Post-build**|
|**Vendor ID**                         | **FLS_VENDOR_ID (44)**|
|**Module ID**                         | **FLS_MODULE_ID (92)**|
|**Supported Platform**                | **AM263x**|

The Flash Driver provides services for reading, writing, erasing flash memory for external Flash device.

### Functional Overview

#### FLS Driver Architecture

The FLS driver has architecture as shown in below figure from the
AUTOSAR specification.

```{figure} Assets/images/fls/fls_image2.png
:alt: FLS in AUTOSAR architecture
:align: center

FLS in AUTOSAR architecture
```

The below figure shows typical connection of the QSPI module to the
external quad-SPI flash memory

```{figure} Assets/images/fls/fls_image3.png
:alt: QSPI connected to an external Quad SPI flash memory
:align: center

QSPI connected to an external Quad SPI flash memory
```

#### Initialization

The driver FLS is initialized by calling Fls_Init() function and
takes FlsConfigSet as input and Initializes Flash and QSPI. This will
also make driver status to IDLE.

#### States

The Fls driver maintains states for:

1. MEMIF_UNINIT: This is the state when hardware is not initialized.
2. MEMIF_IDLE: when FLS driver initialized, it will go to IDLE state.
3. MEMIF_BUSY: In case of any on-going operation i.e., Erase OR read OR
   write, the state will be maintained as busy until the operation is completed.
4. MEMIF_BUSY_INTERNAL is not supported.

#### Assumptions

For using DMA feature, driver assumes that cache initialization is done in application only and not done by the driver.

#### Limitations

Only 1S-1S-4S mode is supported for QSPI.

#### Design overview

Please refer **SITARA MCU MCAL Architecture Document** and **AM26x MCAL: FLS Detailed Design Document** provided as part of CSP.

### Hardware Features

#### AUTOSAR Features supported

* Only one QSPI instance will support
* Perform storage mode applications\
      1. Read from flash.\
      2. Write to flash.\
      3. Erase Flash.\
      4. Cancel job is supported.\
      5. Compare and Blank Check flash memory location.
* Configure error detection (DET)
* DMA mode is supported for Flash Read.
* Only normal mode is supported.

#### Not supported Features

* Only one instance of Fls module supported at one time.
* Access To Address beyond 8MB is not supported in MemMap mode.
* DMA mode is supported only if MemMap mode and Interrupts are enabled.
* DMA mode not supported for Flash Write and Flash Erase.
* Relevant features not supported
      1. FlsSetModeAPI\
      2. FlsDefaultMode\
      3. FlsMaxReadFastMode\
      4. FlsMaxWriteFastMod\
      5. FlsAcLoadOnJobStart\
      6. FlsAcErase\
      7. FlsAcRead\
      8. FlsAcWrite

#### IP specific Features supported

None

#### Non compliance

##### Deviations to requirements (Requirement Traceability)

###### Deviation of requirements against AUTOSAR specification requirements

Will be updated in next release

### Source files

Static source C Files are defined below

ðŸ“¦AM263x\
 â”£ ðŸ“‚build\
 â”£ ðŸ“‚mcal\
 â”ƒ â”£ ðŸ“‚**Fls**\
 â”ƒ â”ƒ â”£ ðŸ“‚**include**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls.h** : *Contains the APIs of the FLS driver to be used by upper layers.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Cbk.h** : *Contains the callback functions.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Irq.h** : *Contains ISR function declarations.*\
 â”ƒ â”ƒ â”£ ðŸ“‚**src**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls.c** : *Contains the pre-complier switches.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Irq.c** : *Contains ISR function definitions..*\
 â”ƒ â”ƒ â”£ ðŸ“‚**V0**\
 â”ƒ â”ƒ â”ƒ â”— ðŸ“œ**Fls_Brd_Nor.h** : *Contains internal functions and data structures.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Nor_config.c** : *CContains device specific function definitions.*\
 â”ƒ â”ƒ â”ƒ â”— ðŸ“œ**Fls_Nor_config.h** : *Contains device specific configuration parameters.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Qspi.c** : *Contains internal functions definitions.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Qspi.h** : *Contains internal functions definitions and data structures.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Qspi_Edma.c** : *Contains Flash DMA specific internal functions definitions and data structures.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Qspi_Edma.h** : *Contains Flash DMA specific internal functions and data structures.*\
 â”ƒ â”ƒ â”— ðŸ“œMakefile\
 â”ƒ ðŸ“‚mcal_config\
 â”ƒ ðŸ“‚mcal_docs\
 â”ƒ ðŸ“œREADME.txt

Plugin files are defined below in the table.

|Plugin Files|Description|
|------|------|
|Fls_Cfg.h|Contains the Precompile switches|
|Fls_PBcfg.c|Contains all Post-Build Configured parameters |
|Fls_Cfg.c|Contains all Pre-Compile Configured parameters|

```{figure} Assets/images/fls/fls_image7.png
:alt: FLS header file include structure
:align: center
FLS header file include structure
```

### Module requirements

Please refer **Software Product Specification** document provided as part of CSP.

#### Memory Mapping

| Memory Mapping Sections                       | Compiler Abstraction Definitions |              |                 |          |
|------------------------------------------------|----------------------------------|--------------|-----------------|----------|
|    | FLS_CODE     | FLS_CODE_ISR | FLS_VAR_NO_INIT | FLS_CFG  |
| FLS_START_SEC_ISR_CODE (.text)   |       | x       |    |      |
| FLS_STOP_SEC_ISR_CODE   |     | x     |      |      |
| FLS_START_SEC_VAR_NO_INIT_UNSPECIFIED (.data)  |      |       | x     |          |
| FLS_STOP_SEC_VAR_NO_INIT_UNSPECIFIED |    |    | x    |       |
| FLS_START_SEC_CODE (.text)    | x    |     |     |     |
| FLS_STOP_SEC_CODE  |x|      |      |    |
| FLS_START_SEC_CONFIG_DATA (.data)   |    |       |     | x        |
| FLS_STOP_SEC_CONFIG_DATA   |   |       |     |  x   |

#### Scheduling

|Schedule Function API|Description|
|------------|---------------|
|Fls_MainFunction|This function shall perform the processing of the flash read, write, erase and compare jobs.|

#### Error handling

##### DET Errors

The errors reported to DET module are described in the following table:

|Type of Error|Related Error code|Value (Hex)|
|----|-------|-----|
|API service called with wrong parameter|FLS_E_PARAM_CONFIG|0x01|
|API service called with wrong parameter|FLS_E_PARAM_ADDRESS|0x02|
|API service called with wrong parameter|FLS_E_PARAM_LENGTH|0x03|
|API service called with wrong parameter|FLS_E_PARAM_DATA|0x04|
|API service used without module initialization|FLS_E_UNINIT|0x05|
|API called when module is busy|FLS_E_BUSY|0x06|
|API called with a Null Pointer|FLS_E_PARAM_POINTER|0x0A|
|API called with a DMA mode on but Interrupt or MemMap mode off|FLS_E_MEMAP_INTERRUPT_OFF_DMA_ON|0x0B|

The run time errors reported to DET module are described in the following table:

|Type of Error|Related Error code|Value (Hex)|
|----|-------|-----|
|Erase verification (blank check) failed|FLS_E_VERIFY_ERASE_FAILED|0x07|
|Write verification (compare) failed|FLS_E_VERIFY_WRITE_FAILED|0x08|

AUTOSAR requires that API functions check the validity of their
parameters. The check in below table shows the various Development
Error Reporting: Assignment of checks to services are internal
parameter checks of the API functions. These checks are for
development error reporting and can be enabled or disabled. The
following table shows which parameter checks are performed on which
services:

| Check Services     | FLS_E_PARAM_CONFIG | FLS_E_PARAM_ADDRESS | FLS_E_PARAM_LENGTH | FLS_E_PARAM_DATA | FLS_E_UNINIT | FLS_E_BUSY | FLS_E_PARAM_POINTER  |
|--------------------|--------------------|---------------------|--------------------|------------------|--------------|------------|----------------------|
| Fls_Init           | x        |                     |                    |                  |              | x          |                      |
| Fls_Erase          |        | x                   | x                  |                  | x            | x          |                      |
| Fls_Read           |          | x                   | x                  | x                | x            | x          |                      |
| Fls_Write          |          | x                   | x                  | x                | x            | x          |                      |
| Fls_Compare        |            | x                   | x                  | x                | x            | x          |                      |
| Fls_BlankCheck     |          | x                   | x                  |                  | x            | x          |                      |
| Fls_GetJobResult   |          |                     |                    |                  | x            |            |                      |
| Fls_GetVersionInfo |          |                     |                    |                  |              |            | x                    |
| Fls_MainFunction   |           |                     |                    |                  | x            |            |                      |
| Fls_Cancel         |       |               |                    |                  | x            |            |                      |

### Used resources

#### Interrupt Handling

FLS uses Interrupt line R5FSS0_CORE0_INTR_QSPI0_INT (interrupt number 54) and Fls_Hdlr shall be called when the interrupt occurs

| Interrupt Number| ISR API Mapped  |
|----------------|----------------|
| R5FSS0_CORE0_INTR_QSPI0_INT | Fls_Hdlr |

### Integration description

#### Dependent modules

##### MCU

The Fls Modules expects the MCU modules to enable the QSPI clock
through the configuration. Required parameter for clock enabling:

1. Module ID: MCU_CLKSRC_MODULE_ID_QSPI
2. Source ID: MCU_CLKSRC_4
3. Divider value: 4

##### PORT

The Fls Modules expects that pinmux is set correctly to configure the
Data line, Chip select and Clock pins for QSPI module. This is done
by the PORT driver.

##### MemIf

This implementation depends on MemIf module and uses its imported
types such as MemIf_JobResultType, MemIf_ModeType and
MemIf_StatusType.

##### Fee

This implementation depends on Fee module for callback notification
to notify the module environment about job end and job error.

##### DET

The module FLS depends on the DET (by default) in order to report
development errors.

The following table represents the service IDs:

| Service ID           | Code | Service                |
|-------------------------------------------|------|------------------------|
| FLS_SID_INIT         | 0x00 | Fls_Init               |
| FLS_SID_ERASE        | 0x01 | Fls_Erase              |
| FLS_SID_WRITE          | 0x02 | FLS_Write()            |
| FLS_SID_CANCEL          | 0x03 | FLS_Cancel()           |
| FLS_SID_GET_STATUS     | 0x04 | FLS_GetStatus()        |
| FLS_SID_GET_JOB_RESULT                    | 0x05 | Fls_GetJobResult()     |
| FLS_SID_READ           | 0x07 | FLS_Read()             |
| FLS_SID_COMPARE       | 0x08 | FLS_Compare()          |
| FLS_SID_GET_VERSION_INFO     | 0x10 | Fls_GetVersionInfo()   |
| FLS_SID_BLANK_CHECK   | 0x0A | FLS_BlankCheck()       |
| FLS_SID_MAIN_FUNCTION       | 0x06 | FLS_MainFunction()     |
| FLS_SID_REGISTERREADBACK      | 0x0B | Fls_RegisterReadback() |

##### DEM

FLS modules does not report DEM errors.

##### Callback Functions

The FLS driver does not provide any callback functions.

##### DMA

Accessing flash memory via DMA controller can avoid intervention of CPU so that the CPU can perform other critical operations. Data transfer through DMA is efficient and faster.

##### Main Functions

The function Fls_MainFunction perform the processing of the flash
read, write, erase and compare jobs. When a job has been initiated,
the FLS moduleâ€™s environment shall call the function Fls_MainFunction
cyclically until the job is finished.

##### Fls Set Erase Function

This function is called from example app based on the macros enabled in application itself.
Implementation of this function is done to allow user to select one or more erase types based on the requirement.
The function Fls_SetEraseType sets the parameters like data size, data_value, erase type(sector/block/chip),
"typeoferase" for Fls_DrvObj, based on the erase type parameter passed to this function while calling from example app.
These parameters are required in example app.

##### Callback Notification

This implementation depends on Fee module for callback notification
to notify the module environment about job end and job error

##### SchM

If multiple AUTOSAR runnables have access to the same Data Store Memory block, the exported AUTOSAR specification enforces data consistency by using an AUTOSAR exclusive area. With this specification, the runnables have mutually exclusive access to the per-instance memory global data, which prevents data corruption. Beside the OS, the BSW Scheduler provides functions that FLS module calls at begin and end of critical sections. This implementation requires 1 level of exclusive access to guard critical sections.

The data consistency mechanism that has to be applied to an ExclusiveArea might be domain, ECU or even project specific. The decision which mechanism has to be applied by RTE / Basic Software Scheduler is taken during ECU integration by setting the Exclusive Area configuration parameter RteExclusiveAreaImplMechanism. This parameter is an input for RTE generator. For FLS Module, data consistency and exclusive access to critical sections are required for the following sections as shown in the table below:

| Exclusive Area Functions used | FLS Function calling Exclusive Area | Need for Exclusive Area | Recommended Exclusive Area Mapping |
|-------|-------|-------|-------|
|FLS_EXCLUSIVE_AREA_0 | Fls_Interrupt_Enable | To protect against multiple access for shared resources |ALL_INTERRUPT_BLOCKING : All interrupts should be blocked as this APIâ€™s can be called in the interrupts |

#### Multi-core support

Not supported

### Configuration


#### FlsConfigSet
Container for runtime configuration parameters of the flash driver.

##### FlsAcErase

| Item ||
|--------|---------------|
| **Name** | FlsAcErase |
| **Description** | Address offset in RAM to which the erase flash access code shall be loaded. Currenly, Flash Access code Erase/Write functionality is not supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsAcWrite

| Item ||
|--------|---------------|
| **Name** | FlsAcWrite |
| **Description** | Address offset in RAM to which the write flash access code shall be loaded. Currenly, Flash Access code Erase/Write functionality is not supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsCallCycle

| Item ||
|--------|---------------|
| **Name** | FlsCallCycle |
| **Description** | Cycle time of calls of the flash driver's main function (in seconds). |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1.0 |
| **Max-value** | INF |
| **Min-value** | 0.0 |

##### FlsDefaultMode

| Item ||
|--------|---------------|
| **Name** | FlsDefaultMode |
| **Description** | This parameter is the default FLS device mode after initialization. Currently, not supported as different modes are not available is Hardware. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | MEMIF_MODE_SLOW |
| **Range** | MEMIF_MODE_FAST<br>MEMIF_MODE_SLOW |

##### FlsMemMapMode

| Item ||
|--------|---------------|
| **Name** | FlsMemMapMode |
| **Description** | This parameter is used to specify if the flash read operation should occur using the external flash memory map. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | true |

##### FlsEnableDMA

| Item ||
|--------|---------------|
| **Name** | FlsEnableDMA |
| **Description** | This parameter is used to specify if the flash read operation should occur using DMA |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsJobEndNotification

| Item ||
|--------|---------------|
| **Name** | FlsJobEndNotification |
| **Description** | Mapped to the job end notification routine provided by some upper layer module, typically the Fee module. |
| **Multiplicity-Configuration-Class** | -- |
| Post-Build Time | VARIANT-POST-BUILD |
| Pre-Compile Time | VARIANT-PRE-COMPILE |
| **Origin** | AUTOSAR_ECUC |
| **Post-build-variant-multiplicity** | true |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsJobErrorNotification

| Item ||
|--------|---------------|
| **Name** | FlsJobErrorNotification |
| **Description** | Mapped to the job error notification routine provided by some upper layer module, typically the Fee module. |
| **Multiplicity-Configuration-Class** | -- |
| Post-Build Time | VARIANT-POST-BUILD |
| Pre-Compile Time | VARIANT-PRE-COMPILE |
| **Origin** | AUTOSAR_ECUC |
| **Post-build-variant-multiplicity** | true |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsMaxReadFastMode

| Item ||
|--------|---------------|
| **Name** | FlsMaxReadFastMode |
| **Description** | The maximum number of bytes to read or compare in one cycle of the flash driver's job processing function in fast mode. Currenly not supported as different modes are not available in hardware. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 768 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsMaxReadNormalMode

| Item ||
|--------|---------------|
| **Name** | FlsMaxReadNormalMode |
| **Description** | The maximum number of bytes to read or compare in one cycle of the flash driver's job processing function in normal mode. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 768 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsMaxWriteFastMode

| Item ||
|--------|---------------|
| **Name** | FlsMaxWriteFastMode |
| **Description** | The maximum number of bytes to write in one cycle of the flash driver's job processing function in fast mode. Currenly not supported as different modes are not available in hardware. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 256 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsMaxWriteNormalMode

| Item ||
|--------|---------------|
| **Name** | FlsMaxWriteNormalMode |
| **Description** | The maximum number of bytes to write in one cycle of the flash driver's job processing function in normal mode. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 768 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsProtection

| Item ||
|--------|---------------|
| **Name** | FlsProtection |
| **Description** | Erase/write protection settings. Only relevant if supported by hardware. Currently, not supported by Hardware. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsBaudRateDiv

| Item ||
|--------|---------------|
| **Name** | FlsBaudRateDiv |
| **Description** | To Select the baud rate divider values |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsProtocol

| Item ||
|--------|---------------|
| **Name** | FlsProtocol |
| **Description** | This parameter is used to select different modes.                        FLS_1S_1S_1S mode enables single read using one data line.                        FLS_1S_1S_2S mode enables dual read using two data lines.                        FLS_1S_1S_4S mode enables quad read using two data lines. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | true |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | FLS_1S_1S_4S |
| **Range** | FLS_1S_1S_1S<br>FLS_1S_1S_2S<br>FLS_1S_1S_4S |

##### FlsHwUnitCddDmaHandler

| Item ||
|--------|---------------|
| **Name** | FlsHwUnitCddDmaHandler |
| **Description** | Configures the Cdd Dma handler used for FLS transmission |
| **Multiplicity-Configuration-Class** | -- |
| Post-Build Time | VARIANT-POST-BUILD |
| Pre-Compile Time | VARIANT-PRE-COMPILE |
| **Origin** | Texas Instruments |
| **Post-build-variant-multiplicity** | false |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsFlashConfigList
List of flash memory configurations.

##### FlsFlashConfiguration
Configuration description of external flash devices.

###### FlsManfId

| Item ||
|--------|---------------|
| **Name** | FlsManfId |
| **Description** | Manufacture ID of the flash device |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsSize

| Item ||
|--------|---------------|
| **Name** | FlsSize |
| **Description** | Specifies the size of flash. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 16777216 |

###### FlsPageSize

| Item ||
|--------|---------------|
| **Name** | FlsPageSize |
| **Description** | Size of a page in flash in bytes |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 256 |
| **Max-value** | 1048576 |
| **Min-value** | 0 |

###### FlsDeviceID

| Item ||
|--------|---------------|
| **Name** | FlsDeviceID |
| **Description** | Flash device ID |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 8216 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### Fls4ByteAddressEnableCmd

| Item ||
|--------|---------------|
| **Name** | Fls4ByteAddressEnableCmd |
| **Description** | The parameter shall enable 4 byte addressing. If this is disabled or 4 byte addressing mode is not supported in flash, 3 byte addressing will be used. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |

###### Fls4ByteAddressDisableCmd

| Item ||
|--------|---------------|
| **Name** | Fls4ByteAddressDisableCmd |
| **Description** | Sequence/Command to disable 4 byte addressing. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |

###### FlsDtrSupport

| Item ||
|--------|---------------|
| **Name** | FlsDtrSupport |
| **Description** | Flash DTR support yes/no |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |

###### FlsDeviceBusyType

| Item ||
|--------|---------------|
| **Name** | FlsDeviceBusyType |
| **Description** | Flash device busy type |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |

###### FlsDeviceResetType

| Item ||
|--------|---------------|
| **Name** | FlsDeviceResetType |
| **Description** | Flash device reset type |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 16 |

###### FlsAddressByteSupport

| Item ||
|--------|---------------|
| **Name** | FlsAddressByteSupport |
| **Description** | Addressing mode according to flash, 0 - Only 3 byte addressing supported, 1 - Both 3 and 4 byte addressing supported, 2 - Only 4 byte addressing supported. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 2 |
| **Min-value** | 0 |

###### FlsAddrNumBytes

| Item ||
|--------|---------------|
| **Name** | FlsAddrNumBytes |
| **Description** | Number of bytes used to represent address to be sent to flash. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 3 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdWren

| Item ||
|--------|---------------|
| **Name** | FlsCmdWren |
| **Description** | Command to execute Write Enable (WREN) instruction for setting Write Enable Latch (WEL) bit. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 6 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdWrsr

| Item ||
|--------|---------------|
| **Name** | FlsCmdWrsr |
| **Description** | Command to execute Write Status Register (WRSR) command which allows new values to be written to the Status Register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdRdsr1

| Item ||
|--------|---------------|
| **Name** | FlsCmdRdsr1 |
| **Description** | Command to execute Read Status Register (RDSR) command for reading the Status Register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 5 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdRdsr2

| Item ||
|--------|---------------|
| **Name** | FlsCmdRdsr2 |
| **Description** | Command to execute Read Status Register (RDSR2) command for reading the Status Register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 53 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsStatusRegWipMask

| Item ||
|--------|---------------|
| **Name** | FlsStatusRegWipMask |
| **Description** | WIP bit mask in status register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsStatusRegWelMask

| Item ||
|--------|---------------|
| **Name** | FlsStatusRegWelMask |
| **Description** | Wel bit mask in Status Register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdChipErase

| Item ||
|--------|---------------|
| **Name** | FlsCmdChipErase |
| **Description** | Command to execute Chip Erase. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 96 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdXspiWipRd

| Item ||
|--------|---------------|
| **Name** | FlsCmdXspiWipRd |
| **Description** | Command to check WIP in XSPI. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsXspiWipBitMask

| Item ||
|--------|---------------|
| **Name** | FlsXspiWipBitMask |
| **Description** | WIP bit mask. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsXspiWipReg

| Item ||
|--------|---------------|
| **Name** | FlsXspiWipReg |
| **Description** | Register offset for WIP in XSPI. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsNumberOfSuppEraseTypes

| Item ||
|--------|---------------|
| **Name** | FlsNumberOfSuppEraseTypes |
| **Description** | Number of supported erase types |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |

###### FlsCmdExecType

| Item ||
|--------|---------------|
| **Name** | FlsCmdExecType |
| **Description** | Command execution type. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 2 |

###### FlsByteOrder

| Item ||
|--------|---------------|
| **Name** | FlsByteOrder |
| **Description** | Flash byte order. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 255 |

###### FlsChipEraseTimeout

| Item ||
|--------|---------------|
| **Name** | FlsChipEraseTimeout |
| **Description** | Timeout period for chip erase operation. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 165000000 |

###### FlsWrrWriteTimeout

| Item ||
|--------|---------------|
| **Name** | FlsWrrWriteTimeout |
| **Description** | Write Timeout period. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 600000 |

###### FlsBusyTimeout

| Item ||
|--------|---------------|
| **Name** | FlsBusyTimeout |
| **Description** | Busy timeout period. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 165000000 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

###### FlsWriteTimeout

| Item ||
|--------|---------------|
| **Name** | FlsWriteTimeout |
| **Description** | Flash write timeout period. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 400 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsMaxSectorErasetime

| Item ||
|--------|---------------|
| **Name** | FlsMaxSectorErasetime |
| **Description** | Maximum time to erase one complete flash sector in micro sec. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1000 |

###### FlsMaxBlockErasetime

| Item ||
|--------|---------------|
| **Name** | FlsMaxBlockErasetime |
| **Description** | Maximum time to erase one complete flash block in micro sec. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 10000 |

###### FlsMaxChipErasetime

| Item ||
|--------|---------------|
| **Name** | FlsMaxChipErasetime |
| **Description** | Maximum time to erase complete flash chip in micro sec. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 4000000 |

###### FlsBlockReadWriteTime

| Item ||
|--------|---------------|
| **Name** | FlsBlockReadWriteTime |
| **Description** | Maximum time to program one complete flash block in micro sec. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 10000 |

###### FlsSectorReadWriteTime

| Item ||
|--------|---------------|
| **Name** | FlsSectorReadWriteTime |
| **Description** | Maximum time to program one complete flash sector in micro sec. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1000 |

###### FlsChipReadWriteTime

| Item ||
|--------|---------------|
| **Name** | FlsChipReadWriteTime |
| **Description** | Maximum time to program complete flash chip in micro sec. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 4000000 |

###### FlsEraseBlockSize

| Item ||
|--------|---------------|
| **Name** | FlsEraseBlockSize |
| **Description** | Erase block size. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 65536 |

###### FlsEraseSectorSize

| Item ||
|--------|---------------|
| **Name** | FlsEraseSectorSize |
| **Description** | Erase sector size. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 4096 |

###### FlsCmdBlkErase3Bytes

| Item ||
|--------|---------------|
| **Name** | FlsCmdBlkErase3Bytes |
| **Description** | Command to execute block erase with 3bytes address mode. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 216 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdBlkErase4Bytes

| Item ||
|--------|---------------|
| **Name** | FlsCmdBlkErase4Bytes |
| **Description** | Command to execute block erase with 4bytes address mode. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 216 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdSectorErase3Bytes

| Item ||
|--------|---------------|
| **Name** | FlsCmdSectorErase3Bytes |
| **Description** | Command to execute sector erase with 3bytes address mode. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 32 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsCmdSectorErase4Bytes

| Item ||
|--------|---------------|
| **Name** | FlsCmdSectorErase4Bytes |
| **Description** | Command to execute sector erase with 4bytes address mode. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 32 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsReadIdCmd

| Item ||
|--------|---------------|
| **Name** | FlsReadIdCmd |
| **Description** | Command to check the device id and manufacture id for external flash. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 159 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsReadIdLen

| Item ||
|--------|---------------|
| **Name** | FlsReadIdLen |
| **Description** | Number of bytes of data to check and read back the device id and manufacture id for external flash. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 3 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsReadIdDummy4

| Item ||
|--------|---------------|
| **Name** | FlsReadIdDummy4 |
| **Description** | Number of dummy bytes required in quad mode to check and read back the device id and manufacture id for external flash. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

##### FlsProtocolConfigs
List of protocol related configuration parameters

###### FlsProtocolReadCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolReadCmd |
| **Description** | Protocol specific read command |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 107 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolWriteCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolWriteCmd |
| **Description** | Protocol specific write/program command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 2 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolmodeClksCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolmodeClksCmd |
| **Description** | Protocol specific Mode clock command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolmodeClksRead

| Item ||
|--------|---------------|
| **Name** | FlsProtocolmodeClksRead |
| **Description** | Protocol specific Mode clock read. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyClkCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyClkCmd |
| **Description** | Protocol specific dummy clock command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyClkRead

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyClkRead |
| **Description** | Protocol specific dummy clock read. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 8 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolEnableType

| Item ||
|--------|---------------|
| **Name** | FlsProtocolEnableType |
| **Description** | Protocol specific enable type. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolEnableSeq

| Item ||
|--------|---------------|
| **Name** | FlsProtocolEnableSeq |
| **Description** | Protocol specific enable sequence. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolAddrReg

| Item ||
|--------|---------------|
| **Name** | FlsProtocolAddrReg |
| **Description** | Protocol specific address register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolConfigReg

| Item ||
|--------|---------------|
| **Name** | FlsProtocolConfigReg |
| **Description** | Protocol specifc config register address. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolConfigRegData

| Item ||
|--------|---------------|
| **Name** | FlsProtocolConfigRegData |
| **Description** | Protocol specific config register data to be written. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolConfigRegReadCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolConfigRegReadCmd |
| **Description** | Protocol specific config register read command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolConfigRegWriteCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolConfigRegWriteCmd |
| **Description** | Protocol specific config register write command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolConfigMask

| Item ||
|--------|---------------|
| **Name** | FlsProtocolConfigMask |
| **Description** | Protocol specific config register mask. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolConfigShift

| Item ||
|--------|---------------|
| **Name** | FlsProtocolConfigShift |
| **Description** | Protocol specific config register shift. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyAddrReg

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyAddrReg |
| **Description** | Protocol specific dummy address register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyConfigReg

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyConfigReg |
| **Description** | Protocol dummy config register address. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyConfigRegData

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyConfigRegData |
| **Description** | Protocol dummy config register data to be written. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyConfigRegReadCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyConfigRegReadCmd |
| **Description** | Protocol specific dummy config register read command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyConfigRegWriteCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyConfigRegWriteCmd |
| **Description** | Protocol specific dummy config register write command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyConfigMask

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyConfigMask |
| **Description** | Protocol specific dummy config register mask. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolDummyConfigShift

| Item ||
|--------|---------------|
| **Name** | FlsProtocolDummyConfigShift |
| **Description** | Protocol specific dummy config register shift. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrAddrReg

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrAddrReg |
| **Description** | Protocol specific Str/Dtr address register. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrConfigReg

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrConfigReg |
| **Description** | Protocol Str/Dtr config register address. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrConfigRegData

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrConfigRegData |
| **Description** | Protocol specific Str/Dtr config register data to be written. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrConfigRegReadCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrConfigRegReadCmd |
| **Description** | Protocol specific Str/Dtr config register read command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrConfigRegWriteCmd

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrConfigRegWriteCmd |
| **Description** | Protocol specific Str/Dtr config register write command. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrConfigMask

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrConfigMask |
| **Description** | Protocol specific Str/Dtr config register mask. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsProtocolStrDtrConfigShift

| Item ||
|--------|---------------|
| **Name** | FlsProtocolStrDtrConfigShift |
| **Description** | Protocol specific Str/Dtr config register shift. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

##### FlsExternalDriver
This container is present for external Flash drivers only. Internal Flash drivers do not use the parameter listed in this container, hence its multiplicity is 0 for internal drivers. Currently, not supported as only one external driver present.

###### FlsSpiReference

| Item ||
|--------|---------------|
| **Name** | FlsSpiReference |
| **Description** | Reference to SPI sequence (required for external Flash drivers). |
| **Multiplicity-Configuration-Class** | -- |
| Post-Build Time | VARIANT-POST-BUILD |
| Pre-Compile Time | VARIANT-PRE-COMPILE |
| **Origin** | AUTOSAR_ECUC |
| **Post-build-variant-multiplicity** | false |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsSectorList
List of flashable sectors and pages.The maximum number of sectors/sector size/pages/pagesize that can be configured, is based on external flash used, and care must be taken to configure these parameters as per the external flash used

##### FlsSector
Configuration description of a flashable sector

###### FlsNumberOfSectors

| Item ||
|--------|---------------|
| **Name** | FlsNumberOfSectors |
| **Description** | Number of continuous sectors with identical configuration |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 32 |
| **Max-value** | 65535 |
| **Min-value** | 0 |

###### FlsPageSize

| Item ||
|--------|---------------|
| **Name** | FlsPageSize |
| **Description** | Size of one page of this sector. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 256 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

###### FlsSectorSize

| Item ||
|--------|---------------|
| **Name** | FlsSectorSize |
| **Description** | Size of this sector. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 4096 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

###### FlsSectorStartaddress

| Item ||
|--------|---------------|
| **Name** | FlsSectorStartaddress |
| **Description** | Start address of this sector. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

#### FlsGeneral
Container for general parameters of the flash driver. These parameters are always pre-compile.

##### FlsAcLoadOnJobStart

| Item ||
|--------|---------------|
| **Name** | FlsAcLoadOnJobStart |
| **Description** | The flash driver shall load the flash access code to RAM whenever an erase or write job is started and unload (overwrite) it after that job has been finished or canceled. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsBaseAddress

| Item ||
|--------|---------------|
| **Name** | FlsBaseAddress |
| **Description** | The flash memory start address (see also SWS_Fls_00208 and SWS_Fls_00209). |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1610612736 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsBlankCheckApi

| Item ||
|--------|---------------|
| **Name** | FlsBlankCheckApi |
| **Description** | Compile switch to enable/disable the Fls_BlankCheck function. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsCancelApi

| Item ||
|--------|---------------|
| **Name** | FlsCancelApi |
| **Description** | Compile switch to enable and disable the Fls_Cancel function. Cancel API currently not supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsCompareApi

| Item ||
|--------|---------------|
| **Name** | FlsCompareApi |
| **Description** | Compile switch to enable and disable the Fls_Compare function. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsDevErrorDetect

| Item ||
|--------|---------------|
| **Name** | FlsDevErrorDetect |
| **Description** | Switches the development error detection and notification on or off. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsDriverIndex

| Item ||
|--------|---------------|
| **Name** | FlsDriverIndex |
| **Description** | Index of the driver, used by FEE. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Max-value** | 254 |
| **Min-value** | 0 |

##### FlsEraseVerificationEnabled

| Item ||
|--------|---------------|
| **Name** | FlsEraseVerificationEnabled |
| **Description** | Compile switch to enable erase verification. Currently not supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | true |

##### FlsGetJobResultApi

| Item ||
|--------|---------------|
| **Name** | FlsGetJobResultApi |
| **Description** | Compile switch to enable and disable the Fls_GetJobResult function. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsGetStatusApi

| Item ||
|--------|---------------|
| **Name** | FlsGetStatusApi |
| **Description** | Compile switch to enable and disable the Fls_GetStatus function. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsSetModeApi

| Item ||
|--------|---------------|
| **Name** | FlsSetModeApi |
| **Description** | Compile switch to enable and disable the Fls_SetMode function. Not relevant as only one mode supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsTimeoutSupervisionEnabled

| Item ||
|--------|---------------|
| **Name** | FlsTimeoutSupervisionEnabled |
| **Description** | Compile switch to enable timeout supervision. Currently, not supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsTotalSize

| Item ||
|--------|---------------|
| **Name** | FlsTotalSize |
| **Description** | The total amount of flash memory in bytes (see also SWS_Fls_00208 and SWS_Fls_00209). |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 16777215 |
| **Max-value** | 4294967295 |
| **Min-value** | 0 |

##### FlsUseInterrupts

| Item ||
|--------|---------------|
| **Name** | FlsUseInterrupts |
| **Description** | Job processing triggered by hardware interrupt. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsVersionInfoApi

| Item ||
|--------|---------------|
| **Name** | FlsVersionInfoApi |
| **Description** | Pre-processor switch to enable / disable the API to read out the modules version information. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | false |

##### FlsWriteVerificationEnabled

| Item ||
|--------|---------------|
| **Name** | FlsWriteVerificationEnabled |
| **Description** | Compile switch to enable write verification. Currenly, not supported. |
| **Origin** | AUTOSAR_ECUC |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | true |

##### FlsQspiCtrlBaseAddr

| Item ||
|--------|---------------|
| **Name** | FlsQspiCtrlBaseAddr |
| **Description** | This parameter used to select the QSPI base Address |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 1210056704 |
| **Max-value** | 4294967295 |
| **Min-value** | 1 |

##### FlsIrqType

| Item ||
|--------|---------------|
| **Name** | FlsIrqType |
| **Description** | Type of Isr function:<br>                          void functionname(void)<br>                          CAT1  see description in oil tool : interrupt void func(void)<br>                          CAT2  see description in oil tool : ISR(func) |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| Post-Build-Time | VARIANT-POST-BUILD |
| **Default-value** | FLS_ISR_CAT1 |
| **Range** | FLS_ISR_VOID<br>FLS_ISR_CAT1<br>FLS_ISR_CAT2 |

##### FlsDefaultOSCounterId

| Item ||
|--------|---------------|
| **Name** | FlsDefaultOSCounterId |
| **Description** | Default Os Counter Id if node reference to OsCounter ref FlsOsCounterRef is not set |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | 0 |
| **Max-value** | 16 |
| **Min-value** | 0 |

##### FlsEnableRegisterReadbackApi

| Item ||
|--------|---------------|
| **Name** | FlsEnableRegisterReadbackApi |
| **Description** | Switch to indicate that the Fls_RegisterReadBack is supported |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
| **Default-value** | true |

##### FlsExternalFlashSelect

| Item ||
|--------|---------------|
| **Name** | FlsExternalFlashSelect |
| **Description** | Reference to the external device used by this job which is mentioned in the page FlsFlashConfig. |
| **Origin** | Texas Instruments |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |

##### FlsOsCounterRef

| Item ||
|--------|---------------|
| **Name** | FlsOsCounterRef |
| **Description** | This parameter contains a reference to the OsCounter, which is used by the FLS driver. |
| **Origin** | Texas Instruments |
| **Post-build-variant-multiplicity** | false |
| **Post-Build-Variant-Value** | false |
| **Value-Configuration-Class** | -- |
| Post-Build-Time | VARIANT-POST-BUILD |
| Pre-Compile-Time | VARIANT-PRE-COMPILE |
#### Configuration changes with DMA mode

1. Flash configuration should include Cdd_Dma in module configurations to use DMA.

```{figure} Assets/images/fls/flsdmamodules.png
:alt: FLS Module Configurations
:align: center
FLS Module Configurations
```

2. Flash DMA handler is required for Flash DMA support in DMA configurations and CDD_TRANSFER_MODE_CHAINING should be used in Flash DMA Handler.

```{figure} Assets/images/fls/dmahandlerfls.png
:alt: FLS Handler in Cdd_Dma configuration
:align: center
FLS Handler in Cdd_Dma configuration
```

3. Flash Dma Handler should have two channels because it uses CDD_TRANSFER_MODE_CHAINING mode.

```{figure} Assets/images/fls/flsdmachannels.png
:alt: FLS Handler Channels in Cdd_Dma configuration
:align: center
FLS Handler Channels in Cdd_Dma configuration
```

4. Flash configuration should enable Memmap mode and Interrupt mode to use DMA.

```{figure} Assets/images/fls/flscfgdma.png
:alt: Dma, Memmap in FLS configuration (FlsConfigSet)
:align: center
Dma, Memmap in FLS configuration (FlsConfigSet)
```

```{figure} Assets/images/fls/flsdmainterrupt.png
:alt: Interrupt in FLS configuration (FlsGeneral)
:align: center
Interrupt in FLS configuration (FlsGeneral)
```

##### Program changes with DMA mode

For DMA mode support, DMA TPCC0 Interrupt aggregation (INTR) line number 72 gets used to register ISR (CDD_EDMA_lld_transferCompletionMasterIsrFxn) with EDMA and Cache invalidation on destination buffers should happen using Mcal_CacheP_inv APIs before using Flash DMA support for read.

### Examples

#### Overview

1. Initializes clock using Mcu_Init()
2. Initialize port using Port_Init()
3. Initialize Fls using Fls_Init()
4. Get Fls Version using Fls_GetVersionInfo()
5. Erase flash sector using Fls_Erase()
6. Perform the processing of jobs using Fls_MainFunction()
7. Read the result of the last job using Fls_GetJobResult()
8. Verify, whether a given memory area has been erased but not (yet) programmed using Fls_BlankCheck()
9. Write complete flash pages using Fls_Write()
10. Reads the flash memory using Fls_Read()
11. Check if the write operation was successful by comparing txBuf_test (hardcoded) with the actual data in flash using Fls_Compare()
12. Check if the read operation was successful by comparing rxBuf_test (previously read) with the actual data in flash
  
#### Hardware Software Setup and Tools

None

#### Steps to build and run example

1. FLS example application demonstrating the MCAL Fls driver features is in folder *<MCAL_ROOT>/examples/Fls*.

2. This application can be built from the root folder by giving *gmake â€“s fls_app PLATFORM=am263*.

3. after the build is completed we get a binary file,which is loaded in our controller and executed.

#### Example Logs

```

      [HSM_CLIENT] New Client Registered with Client Id = 0
      Starting QSPI Bootloader ... 
      [BOOTLOADER_PROFILE] Boot Media       : NOR SPI FLASH 
      [BOOTLOADER_PROFILE] Boot Media Clock : 80.000 MHz 
      [BOOTLOADER_PROFILE] Boot Image Size  : 219 KB 
      [BOOTLOADER_PROFILE] Cores present    : 
      r5f0-0
      [BOOTLOADER PROFILE] System_init                      :        304us 
      [BOOTLOADER PROFILE] Drivers_open                     :         82us 
      [BOOTLOADER PROFILE] LoadHsmRtFw                      :       8768us 
      [BOOTLOADEFLS_APP: Job Ends: SUCCESS 
      FlsApp: Sample Application - STARTS !!!
      FLS CHIP ERASE !!! 
      FLS_APP: Variant - Pre Compile being used !!!
      FLS MCAL version info:9.1.0
      FLS MCAL Module/Driver:92.44 
      FLS_APP: DATA SIZE TEST is 0x10000 
      FLS_APP: Offset is 0x0 
      FLS_APP: Erasing 
      FLS_APP: Erasing full chip..please wait.. 
      FLS_APP: Job Processing in Progress.
      FLS_APP: Job Ends: SUCCESS
      FLS_APP: Blank Checking 
      FLS_APP: Job Processing in Progress.
      FLS_APP: Job Ends: SUCCESS
      FLS_APP: Writing 
      FLS_APP: Job Processing in Progress.
      FLS_APP: Job Ends: SUCCESS
      FLS_APP: Reading 
      FLS_APP: Job Processing in Progress.
      FLS_APP: Job Ends: SUCCESS
      FLS_APP: Write Compare 
      FLS_APP: Job Processing in Progress.
      FLS_APP: Job Ends: SUCCESS
      FLS_APP: Read Compare 
      FLS_APP: Job Processing in Progress.
      FLS_APP: Job Ends: SUCCESS
      FLS_APP: 
      FLS_APP: Job Cancel 
      FLS_APP:         1. Writing 
      FLS_APP:         2. Canceling 
      FLS_APP: Job Canceled (SUCCESS) ! 
      FLS_APP: 
      FLS_APP: 
      FLS_APP: ---------- FLS Sample application Done !! ----------  
      FLS_APP: 
      
```

#### File Structure

ðŸ“¦AM263x\
 â”£ ðŸ“‚build\
 â”£ ðŸ“‚mcal\
 â”ƒ â”£ ðŸ“‚**examples**\
 â”ƒ â”ƒ â”£ ðŸ“‚**Fls**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚**soc**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**FlsApp.c** : *Contains FLS test example.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œMakefile\
 â”ƒ â”ƒ â”£ ðŸ“‚**Flsdiag**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚**soc**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_DiagApp.c** : *Contains FLS Diag test example.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_NOR_SFDP.c** : *Contains SFDP Driver APIs implementation.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_NOR_SFDP.h** : *Contains SFDP Driver APIs implementation.*\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“œMakefile\
 â”ƒ â”£ ðŸ“‚**examples_config**\
 â”ƒ â”ƒ â”£ ðŸ“‚**Fls_Demo_Cfg**\
 â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚**soc**\
 â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚**am263**\
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚**r5f0_0**\
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚include\
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Cfg.h** : *Contains the Precompile switches, Symbolic names.*\
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“‚src\
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_Cfg.c** : *Contains all Pre-Compile Configured parameters*\
 â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ðŸ“œ**Fls_PBcfg.c** : *Contains all Post-Build Configured parameters*\
 â”ƒ ðŸ“‚mcal_config\
 â”ƒ ðŸ“‚mcal_docs\
 â”£ ðŸ“œREADME.txt

### FAQ's

Q1. What if some flashes also support write enable for non-volatile registers?

    Before writing to any register in flash, write enable command is issued to the flash.
    The Write enable can be issued to both volatile and non volatile registers depending on 
    what the flash supports. Currently the existing flash in the device supports write 
    enable to volatile registers. In case any external flash (e.g. S25FL064LABMFB01X) supports 
    write enable to both volatile and non volatile registers, the user can issue write enable
    command for non volatile registers using Nor_QspiCmdWrite API. User can also update 
    the fls_config_sfdp_1.cmdWren parameter in Flash_sfdpParams_init API in V0/Fls_Nor_config.c file by following the flash datasheet.

### References

[AUTOSAR_SWS_FlashDriver](https://www.autosar.org/fileadmin/standards/R4.3.1/CP/AUTOSAR_SWS_FlashDriver.pdf)\
[Technical Reference Manual](https://www.ti.com/am263)
